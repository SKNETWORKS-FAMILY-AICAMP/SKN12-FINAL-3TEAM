# =====================================
# WhisperX 호환 Requirements
# PyTorch 2.1.0과 WhisperX 동시 사용
# =====================================

# PyTorch 2.1.0 (먼저 설치)
--index-url https://download.pytorch.org/whl/cu118
torch==2.1.0+cu118
torchvision==0.16.0+cu118
torchaudio==2.1.0+cu118

# WhisperX 핵심 의존성 (호환 버전)
faster-whisper==0.10.1  # 1.0.0 대신 구버전
ctranslate2==3.24.0  # 4.4.0 대신 호환 버전
openai-whisper==20231117

# 오디오 처리
pyannote.audio==3.0.1  # 3.1.1 대신
pytorch-lightning==1.9.5  # 2.1.3 대신
speechbrain==0.5.16
webrtcvad==2.0.10
librosa==0.10.1
soundfile==0.12.1
pydub==0.25.1
ffmpeg-python==0.2.0

# Transformers & NLP
transformers==4.36.2
tokenizers==0.15.0
sentencepiece==0.1.99
safetensors==0.4.1
peft==0.7.1
accelerate==0.25.0

# 데이터 처리
numpy==1.24.4  # 2.x 대신 1.x 사용
pandas==2.1.4
scipy==1.11.4
scikit-learn==1.3.2

# FastAPI
fastapi==0.110.0
uvicorn[standard]==0.24.0.post1
python-multipart==0.0.6
pydantic==2.5.0
aiofiles==23.2.1

# 유틸리티
python-dotenv==1.0.0
tqdm==4.66.1
colorama==0.4.6
requests==2.31.0
huggingface-hub==0.20.1
typing-extensions==4.9.0
packaging==23.2
filelock==3.13.1

# 추가 NLP (선택)
nltk==3.8.1
kss==6.0.1  # 한국어 문장 분리

# 로깅
loguru==0.7.2
rich==13.7.0

# =====================================
# 설치 순서:
# 1. pip install -r requirements_whisperx.txt
# 2. pip install git+https://github.com/m-bain/whisperx.git@v3.1.1 --no-deps
# =====================================